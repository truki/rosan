timestamp: 2013-01-20T13:03:12.028930
CREATE TABLE auth_user(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username CHAR(512),
    first_name CHAR(512),
    last_name CHAR(512),
    email CHAR(512),
    password CHAR(512),
    created_on TIMESTAMP,
    modified_on TIMESTAMP,
    registration_key CHAR(512),
    reset_password_key CHAR(512),
    registration_id CHAR(512)
);
success!
timestamp: 2013-01-20T13:03:12.033460
CREATE TABLE auth_group(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    role CHAR(512),
    description TEXT
);
success!
timestamp: 2013-01-20T13:03:12.037112
CREATE TABLE auth_membership(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    group_id INTEGER REFERENCES auth_group (id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-20T13:03:12.041602
CREATE TABLE auth_permission(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    group_id INTEGER REFERENCES auth_group (id) ON DELETE CASCADE,
    name CHAR(512),
    table_name CHAR(512),
    record_id INTEGER
);
success!
timestamp: 2013-01-20T13:03:12.048307
CREATE TABLE auth_event(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    time_stamp TIMESTAMP,
    client_ip CHAR(512),
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    origin CHAR(512),
    description TEXT
);
success!
timestamp: 2013-01-20T13:03:12.054534
CREATE TABLE auth_cas(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    created_on TIMESTAMP,
    service CHAR(512),
    ticket CHAR(512),
    renew CHAR(1)
);
success!
timestamp: 2013-01-20T13:03:12.061736
CREATE TABLE cliente(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    cif CHAR(9) NOT NULL,
    nombre CHAR(200) NOT NULL,
    direccion CHAR(200) NOT NULL,
    localidad CHAR(100) NOT NULL,
    cod_postal CHAR(5) NOT NULL,
    email CHAR(100) NOT NULL,
    www CHAR(200) NOT NULL
);
success!
timestamp: 2013-01-20T13:03:12.068116
CREATE TABLE factura(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha DATE NOT NULL,
    id_cliente INTEGER REFERENCES cliente (id) ON DELETE CASCADE,
    tipo_iva DOUBLE NOT NULL,
    neto DOUBLE NOT NULL,
    retencion DOUBLE NOT NULL,
    descuento INTEGER NOT NULL,
    total_iva DOUBLE NOT NULL,
    total_bruto DOUBLE NOT NULL,
    pagada CHAR(1) NOT NULL DEFAULT 'F'
);
success!
timestamp: 2013-01-20T13:03:12.071774
CREATE TABLE factura_detalle(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    id_factura INTEGER REFERENCES factura (id) ON DELETE CASCADE,
    articulo TEXT NOT NULL,
    precio DOUBLE NOT NULL,
    cantidad INTEGER NOT NULL,
    total_articulo DOUBLE NOT NULL
);
success!
timestamp: 2013-01-20T13:03:12.075971
CREATE TABLE proveedor(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre CHAR(100),
    cif CHAR(9) NOT NULL,
    direccion CHAR(200) NOT NULL,
    email CHAR(100) NOT NULL
);
success!
timestamp: 2013-01-20T13:03:12.080428
CREATE TABLE articulo(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    titulo CHAR(100),
    descripcion TEXT NOT NULL,
    precio DOUBLE NOT NULL,
    id_proveedor INTEGER REFERENCES proveedor (id) ON DELETE CASCADE
);
success!
timestamp: 2013-01-20T13:03:12.084519
CREATE TABLE almacen(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    id_articulo INTEGER REFERENCES articulo (id) ON DELETE CASCADE,
    cantidad INTEGER NOT NULL DEFAULT 0,
    max INTEGER NOT NULL DEFAULT 0,
    min INTEGER NOT NULL DEFAULT 0
);
success!
timestamp: 2013-01-25T23:58:19.812738
ALTER TABLE factura_detalle ADD id_articulo INTEGER REFERENCES articulo (id) ON DELETE CASCADE;
timestamp: 2013-01-25T23:58:19.859167
CREATE TABLE factura_temp(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha DATE NOT NULL,
    id_cliente INTEGER REFERENCES cliente (id) ON DELETE CASCADE,
    tipo_iva DOUBLE NOT NULL,
    neto DOUBLE NOT NULL,
    retencion DOUBLE NOT NULL,
    descuento INTEGER NOT NULL,
    total_iva DOUBLE NOT NULL,
    total_bruto DOUBLE NOT NULL,
    pagada CHAR(1) NOT NULL DEFAULT 'F'
);
success!
timestamp: 2013-01-25T23:58:19.872974
CREATE TABLE factura_detalle_temp(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    id_factura INTEGER REFERENCES factura_temp (id) ON DELETE CASCADE,
    id_articulo INTEGER REFERENCES articulo (id) ON DELETE CASCADE,
    articulo TEXT NOT NULL,
    precio DOUBLE NOT NULL,
    cantidad INTEGER NOT NULL,
    total_articulo DOUBLE NOT NULL
);
success!
timestamp: 2013-01-25T23:58:19.879397
CREATE TABLE factura_borrador(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    fecha DATE NOT NULL,
    id_cliente INTEGER REFERENCES cliente (id) ON DELETE CASCADE,
    tipo_iva DOUBLE NOT NULL,
    neto DOUBLE NOT NULL,
    retencion DOUBLE NOT NULL,
    descuento INTEGER NOT NULL,
    total_iva DOUBLE NOT NULL,
    total_bruto DOUBLE NOT NULL,
    pagada CHAR(1) NOT NULL DEFAULT 'F'
);
success!
timestamp: 2013-01-25T23:58:19.883567
CREATE TABLE factura_detalle_borrador(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    id_factura INTEGER REFERENCES factura_borrador (id) ON DELETE CASCADE,
    id_articulo INTEGER REFERENCES articulo (id) ON DELETE CASCADE,
    articulo TEXT NOT NULL,
    precio DOUBLE NOT NULL,
    cantidad INTEGER NOT NULL,
    total_articulo DOUBLE NOT NULL
);
success!
timestamp: 2013-01-31T20:57:29.358136
ALTER TABLE factura ADD numero INTEGER;
timestamp: 2013-01-31T20:57:29.359905
ALTER TABLE factura ADD titulo CHAR(255) NOT NULL;
timestamp: 2013-01-31T21:03:11.837660
ALTER TABLE factura ADD titulo CHAR(255);
timestamp: 2013-01-31T21:03:11.839115
ALTER TABLE factura ADD anulada CHAR(1) NOT NULL DEFAULT 'F';
timestamp: 2013-02-04T23:54:51.925550
CREATE TABLE iva(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    descripcion CHAR(100),
    valor DOUBLE NOT NULL,
    activo CHAR(1) NOT NULL DEFAULT 'T'
);
success!
timestamp: 2013-02-04T23:54:51.928990
CREATE TABLE retencion(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    descripcion CHAR(100),
    valor DOUBLE NOT NULL,
    activo CHAR(1) NOT NULL DEFAULT 'T'
);
success!
timestamp: 2013-02-05T00:00:54.191468
CREATE TABLE empresa(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre CHAR(100),
    descripcion TEXT NOT NULL,
    direccion CHAR(250) NOT NULL,
    localidad CHAR(100) NOT NULL,
    cod_postal CHAR(5) NOT NULL,
    email CHAR(100) NOT NULL,
    www CHAR(200) NOT NULL
);
success!
